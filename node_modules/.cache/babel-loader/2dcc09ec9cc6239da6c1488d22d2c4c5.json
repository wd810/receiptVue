{"remainingRequest":"/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/node_modules/babel-loader/lib/index.js!/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/src/components/Upload.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/src/components/Upload.vue","mtime":1628908223694},{"path":"/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy93YW5nZGlhbi9Eb2N1bWVudHMvUHl0aG9uL2ZsYXNrQXBwL2ZsYXNrQXBwL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ1cGxvYWQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZEltZzogbnVsbCwKICAgICAgaW1nTmFtZTogIiIsCiAgICAgIGltZ1NyYzogbnVsbCwKICAgICAgaW1nQmFzZTY0OiBudWxsLAogICAgICByZXNwb25zZToge30sCiAgICAgIHNob3dTcGluOiBmYWxzZSwKICAgICAgQVBJOiAiaHR0cHM6Ly9mbGFzay1hcHAtYmFjay5oZXJva3VhcHAuY29tL3VwbG9hZCIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWFkVVJMOiBmdW5jdGlvbiByZWFkVVJMKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRJbWcgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRJbWcpOwogICAgICB0aGlzLmltZ05hbWUgPSB0aGlzLnNlbGVjdGVkSW1nLm5hbWU7CiAgICAgIHRoaXMuaW1nU3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLnNlbGVjdGVkSW1nKTsKICAgIH0sCiAgICBwb3N0SW1nOiBmdW5jdGlvbiBwb3N0SW1nKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVhZGVyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLnNob3dTcGluID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChfdGhpcy5zZWxlY3RlZEltZyk7CgogICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuaW1nQmFzZTY0ID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgImJhc2U2NCI6IF90aGlzLmltZ0Jhc2U2NAogICAgICAgICAgICAgICAgICB9OyAvLyBjb25zb2xlLmxvZyhkYXRhKQoKICAgICAgICAgICAgICAgICAgYXhpb3MucG9zdChfdGhpcy5BUEksIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzcG9uc2UgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93U3BpbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcigpKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/wangdian/Documents/Python/flaskApp/flaskApp/frontend/src/components/Upload.vue"],"names":[],"mappings":";;;;;;;AAwDA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,WAAW,EAAE,IADR;AAEL,MAAA,OAAO,EAAE,EAFJ;AAGL,MAAA,MAAM,EAAE,IAHH;AAIL,MAAA,SAAS,EAAE,IAJN;AAKL,MAAA,QAAQ,EAAE,EALL;AAML,MAAA,QAAQ,EAAE,KANL;AAOL,MAAA,GAAG,EAAE;AAPA,KAAP;AASD,GAZY;AAab,EAAA,OAAO,EAAE;AAEP,IAAA,OAFO,mBAEC,KAFD,EAEQ;AACX,WAAK,WAAL,GAAmB,KAAK,CAAC,MAAN,CAAa,KAAb,CAAmB,CAAnB,CAAnB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,WAAjB;AACA,WAAK,OAAL,GAAe,KAAK,WAAL,CAAiB,IAAhC;AACA,WAAK,MAAL,GAAc,GAAG,CAAC,eAAJ,CAAoB,KAAK,WAAzB,CAAd;AACH,KAPM;AAQD,IAAA,OARC,qBAQS;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACZ,gBAAA,KAAI,CAAC,QAAL,GAAgB,IAAhB;AACM,gBAAA,MAFM,GAEG,IAAI,UAAJ,EAFH;AAGZ,gBAAA,MAAM,CAAC,aAAP,CAAqB,KAAI,CAAC,WAA1B;;AACA,gBAAA,MAAM,CAAC,SAAP,GAAmB,YAAM;AACrB,kBAAA,KAAI,CAAC,SAAL,GAAiB,MAAM,CAAC,MAAxB;AACA,sBAAI,IAAG,GAAI;AAAC,8BAAU,KAAI,CAAC;AAAhB,mBAAX,CAFqB,CAGrB;;AACA,kBAAA,KAAK,CAAC,IAAN,CAAW,KAAI,CAAC,GAAhB,EAAqB,IAArB,EACC,IADD,CACM,UAAC,QAAD,EAAY;AACd,oBAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAzB;AACA,oBAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,QAAjB;AACA,oBAAA,KAAI,CAAC,QAAL,GAAgB,KAAhB;AACH,mBALD,EAMC,KAND,CAMO,UAAC,KAAD,EAAS;AACZ,oBAAA,OAAO,CAAC,GAAR,CAAY,KAAK,EAAjB;AACH,mBARD;AASJ,iBAbA;;AAJY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBhB;AA5BO;AAbI,CAAf","sourcesContent":["<template>\n  <div class=\"container py-5\">\n\n    <!-- For demo purpose -->\n    <header class=\"text-white text-center\">\n        <p class=\"lead mb-0\">Upload Receipt</p>\n    </header>\n\n    <div class=\"row py-4\">\n        <div class=\"col-lg-6 mx-auto\">\n\n            <!-- Upload image input-->\n            <div class=\"input-group mb-3 px-2 py-2 rounded-pill bg-white shadow-sm\">\n                <input id=\"upload\" type=\"file\" @change=\"readURL\" class=\"form-control border-0\">\n                <label id=\"upload-label\" for=\"upload\" class=\"font-weight-light text-muted\">Choose file</label>\n                <div class=\"input-group-append\">\n                    <label for=\"upload\" class=\"btn btn-light m-0 rounded-pill px-4\"> <i class=\"fa fa-cloud-upload mr-2 text-muted\"></i><small class=\"text-uppercase font-weight-bold text-muted\">Choose file</small></label>\n                </div>\n            </div>\n            \n            <div class=\"col-lg-12 row\">\n                <!-- Uploaded image area-->\n                <div class=\"col-lg-6\">\n                    <p class=\"font-italic text-white text-center\">The image uploaded: {{imgName}}</p>\n                    <div class=\"image-area mt-4\"><img id=\"imageResult\" :src=\"imgSrc\" alt=\"\" class=\"img-fluid rounded shadow-sm mx-auto d-block\"></div>\n                    <button type=\"button\" class=\"btn btn-primary\" @click=\"postImg\">Submit</button>\n                </div>\n\n                <!-- extract information area -->\n                <div class=\"col-lg-6\" v-if=\"!showSpin\">\n                    <p class=\"font-italic text-white text-center\">Extraction Result</p>\n                    <div v-if=\"response.date\">\n                        <p>purchase date: {{response.date}}</p>\n                        <p>supplier: {{response.supplier}}</p>\n                        <p>total: {{response.total}}</p>\n                        <p>subtotal: {{response.subtotal}}</p>\n                        <p>hst: {{response.hst}}</p>\n                    </div>\n                    <div v-if=\"response.data\">\n                        <p>{{ response.data }}</p>\n                    </div>\n                </div>\n                <!-- spinning area -->\n                <div class=\"spinner-border\" role=\"status\" v-if=\"showSpin\">\n                    <span class=\"sr-only\"></span>\n                </div>\n                \n            </div>\n            \n        </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from \"axios\"\n\nexport default {\n  name: \"upload\",\n  data() {\n    return {\n      selectedImg: null,\n      imgName: \"\",\n      imgSrc: null,\n      imgBase64: null,\n      response: {},\n      showSpin: false,\n      API: \"https://flask-app-back.herokuapp.com/upload\"\n    }\n  },\n  methods: {\n    \n    readURL(event) {\n        this.selectedImg = event.target.files[0]\n        console.log(this.selectedImg)\n        this.imgName = this.selectedImg.name\n        this.imgSrc = URL.createObjectURL(this.selectedImg)\n    },\n    async postImg() {\n        this.showSpin = true\n        const reader = new FileReader()\n        reader.readAsDataURL(this.selectedImg)\n        reader.onloadend = () => {\n            this.imgBase64 = reader.result\n            let data = {\"base64\": this.imgBase64}\n            // console.log(data)\n            axios.post(this.API, data)\n            .then((response)=>{\n                this.response = response.data\n                console.log(this.response)\n                this.showSpin = false\n            })\n            .catch((error)=>{\n                console.log(error())\n            })\n        }\n        \n        \n    }\n\n    \n  }\n}\n</script>\n\n<style>\n\n#upload {\n    opacity: 0;\n}\n\n#upload-label {\n    position: absolute;\n    top: 50%;\n    left: 1rem;\n    transform: translateY(-50%);\n}\n\n.image-area {\n    border: 2px dashed rgba(255, 255, 255, 0.7);\n    padding: 1rem;\n    position: relative;\n}\n\n.image-area::before {\n    content: 'Uploaded image result';\n    color: #fff;\n    font-weight: bold;\n    text-transform: uppercase;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 0.8rem;\n    z-index: 1;\n}\n\n.image-area img {\n    z-index: 2;\n    position: relative;\n}\n\nbody {\n    min-height: 100vh;\n    background-color: #757f9a;\n    background-image: linear-gradient(147deg, #757f9a 0%, #d7dde8 100%);\n}\n\n\n</style>"],"sourceRoot":""}]}